<div class="profile-container">
  <div class="profile-header">
    <h1>My Profile</h1>
    <div class="header-actions">
      <button routerLink="/profile/edit" class="btn btn-primary">
        Edit Profile
      </button>
      <button routerLink="/profile/settings" class="btn btn-secondary">
        Change Password
      </button>
    </div>
  </div>

  <div *ngIf="loading" class="loading">Loading profile...</div>

  <div *ngIf="!loading && userProfile" class="profile-content">
 
    <div class="avatar-section">
      <img
        [src]="getProfilePictureUrl()"
        alt="Profile Avatar"
        class="avatar-large"
      />
    </div>


    <div class="info-section">
      <div class="info-row">
        <label>Username:</label>
        <span>{{ userProfile.username }}</span>
      </div>

      <div class="info-row">
        <label>Email:</label>
        <span>{{ userProfile.email }}</span>
      </div>

      <div class="info-row">
        <label>Full Name:</label>
        <span>{{ userProfile.fullName || 'Not set' }}</span>
      </div>

      <div class="info-row">
        <label>Bio:</label>
        <span>{{ userProfile.bio || 'No bio yet' }}</span>
      </div>

      <div class="info-row">
        <label>Role:</label>
        <span class="badge" [class.badge-admin]="userProfile.role === 'ADMIN'">
          {{ userProfile.role }}
        </span>
      </div>

      <div class="info-row">
        <label>Member Since:</label>
        <span>{{ userProfile.createdAt | date: 'medium' }}</span>
      </div>

      <div class="info-row" *ngIf="userProfile.isBanned">
        <label>Status:</label>
        <span class="badge badge-danger">BANNED</span>
      </div>
    </div>


    <div class="danger-zone">
      <h3>Danger Zone</h3>
      <button (click)="deleteAccount()" class="btn btn-danger">
        Delete Account
      </button>
      <p class="warning-text">
        Once you delete your account, there is no going back. Please be certain.
      </p>
    </div>
  </div>

  <div class="back-link">
    <a routerLink="/home">Back to Home</a>
  </div>
</div>
